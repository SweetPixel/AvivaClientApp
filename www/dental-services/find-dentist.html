<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
	<title>Healthpick</title>

	<!-- CSS -->
	<link href="../css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
	<link href="../css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
	
	<!-- Scripts-->
	<script>console.log("Starting");</script>
	<script src="../js/jquery.min.js"></script>
	<script src="../js/underscore.js"></script>
	<script src="../js/materialize.js"></script>
	<script src="../cordova.js"></script>
	<script src="../js/init.js"></script>
	
	<style>
		html {
			min-height: 100%;
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;

			background: -webkit-linear-gradient(90deg, #D1913C 10%, #FFD194 90%); /* Chrome 10+, Saf5.1+ */
			background:    -moz-linear-gradient(90deg, #D1913C 10%, #FFD194 90%); /* FF3.6+ */
			background:     -ms-linear-gradient(90deg, #D1913C 10%, #FFD194 90%); /* IE10 */
			background:      -o-linear-gradient(90deg, #D1913C 10%, #FFD194 90%); /* Opera 11.10+ */
			background:         linear-gradient(90deg, #D1913C 10%, #FFD194 90%); /* W3C */

			background-repeat: no-repeat;
		}
		#search:focus ~ .search-nav-cancel{
			color: #000;
		}
		.search-nav-cancel {
			position: absolute;
			top: 0;
			right: 1rem;
			color: #FFF;
			cursor: pointer;
		}
		#list p {
			font-size: 1.4rem;
		}
		.list-heading {
			font-size: 1.3rem;
		}
		.collection-item div, .collection-item span {
			color: #EE6E73;
			padding-bottom: .4rem;
		}
		.search-advance {
			line-height: 1rem;
			background-color: #FF9800;
			color: #FFF;
			font-size: 1rem;
			padding: .6rem;
			text-align: right;
			margin-bottom: .4rem;
		}
	</style>
	<script type="text/javascript">
		$(document).ready(function () {
			$('.modal-trigger').leanModal();
		});
		
	    var map;
	    
	    document.addEventListener("deviceready", function() {
	        var div = document.getElementById("map_canvas");

	        // Initialize the map view
	        var mapOptions = {
	            center: { lat: 51.516738, lng: -0.079474 },
	            zoom: 8
	        }
	        map = plugin.google.maps.Map.getMap(div, mapOptions);

	        // Wait until the map is ready status.
	        map.addEventListener(plugin.google.maps.event.MAP_READY, onMapReady);
	    }, false);
	    
	    function onMapReady() {

	        //markers
	        const clinic1 = new plugin.google.maps.LatLng(51.516738, -0.079474);
	        const clinic2 = new plugin.google.maps.LatLng(51.518351, -0.087370);
	        const clinic3 = new plugin.google.maps.LatLng(51.518228, -0.078485);
	        const clinic4 = new plugin.google.maps.LatLng(51.521185, -0.148060);
	        const clinic5 = new plugin.google.maps.LatLng(51.521857, -0.149687);
	        const clinic6 = new plugin.google.maps.LatLng(51.520091, -0.147240);

	        // var button = document.getElementById("map-button");
	        // button.addEventListener("click", onBtnClicked, false);
	        map.addMarker({
	            'position': clinic1,
	            'title': 'Devonshire Square Dental Studios'
	        }, function(marker) {

	        });
	        map.addMarker({
	            'position': clinic2,
	            'title': 'City Perio'
	        }, function(marker) {

	        });
	        map.addMarker({
	            'position': clinic3,
	            'title': 'Vitaldent Wellbeing Studio'
	        }, function(marker) {

	        });
	        map.addMarker({
	            'position': clinic4,
	            'title': 'Harley Street Dental Clinic'
	        }, function(marker) {

	        });
	        map.addMarker({
	            'position': clinic5,
	            'title': 'Zenith Dentistry'
	        }, function(marker) {

	        });
	        map.addMarker({
	            'position': clinic6,
	            'title': '76 harley Street'
	        }, function(marker) {

	        });
	    }

	    function onBtnClicked() {
	        map.showDialog();
	    }
	</script>
</head>

<body>
	<nav class="orange" role="navigation">
		<div class="common-nav">
			<div class="nav-wrapper container">
				<div class="col s4">
					<a href="../dentalservices.html">
						<i class="left white-text mdi-navigation-arrow-back"></i>
					</a>
				</div>
				<div class="col s4">
					<a id="logo-container" class="brand-logo fonts center">
						<h6 class="center-align white-text lighten-2 fonts">  Find Dentist  </h6>
					</a>
				</div>
				<div class="col s4 right">        
					<ul id="nav-mobile" class="side-nav right">
						<li><a href="services2.html">Home</a></li>
						<li><a data-target="qrmodal" class="modal-trigger" href="#qrmodal">My QR Code</a></li>
						<li><a href="settings.html">Settings</a></li>
						<li><a href="notifications.html">Notifications<span class="new badge">2</span></a></li>
						<li><a href="#">Help</a></li>
					</ul>
					<a href="#" data-activates="nav-mobile" class="button-collapse">
						<i class="mdi-navigation-menu"></i>
					</a>
				</div>
			</div>
		</div>

		<div style="display: none;" class="search-map">
			<div class="nav-wrapper">
				<form>
					<div class="input-field">
						<input id="search" type="search" required style="margin-bottom: 0">
						<label for="search">
							<i style="display: inline-block" class="mdi-action-search"></i>
						</label>
						<span class="search-nav-cancel">Cancel</span>
					</div>
				</form>
				<div class="search-advance">
					<a href="#modal-advanced-search" class="modal-trigger">Advanced Search</a>
				</div>
			</div>
			
		</div>
	</nav>

	<div id="search-tabs">
	    <!-- <div class="row">
	        <div class="col s9 center-align white-text">
	            <p> The following 216 practices are within 30km of EC3P 3DQ, London</p>
	        </div>
	        <div class="col s3 left-align">
	            <a id="map-button" class="colors btn-floating waves-effect waves-light"><i class="mdi-maps-pin-drop" style="color: orange;"></i></a>
	        </div>
	    </div> -->

	    <div class="row" style="margin-top: 1rem">
	    	
	    	<div class="col s12">
	    		<ul class="tabs">
	    			<li class="tab col s6 fonts"><a class="mdi-action-search" id="search-map-trigger" href="#map">Search</a></li>
	    			<li class="tab col s6 fonts"><a class="mdi-action-toc" id="browse-trigger" href="#list">Browse</a></li>
	    		</ul>
	    	</div>
	    	<!-- <div id="first-map" class="col s12">
	    		<div id="first_map_canvas" style="overflow: hidden;">
	    			<img src="../images/sheffield-1.png" style="min-width: 100%; height=auto; overflow: hidden;">
	    		</div>
	    	</div> -->
	    	<div id="list" class="blue-text text-darken-2 col s12">
	    		<ul class="collection" id="clinics-list">
	    			<li class="collection-item">
	    				<a href="../details.html">
	    					<div class="row">
	    						<p class="grey-text left-align">
	    							<div class="list-heading">Devonshire Square Dental Studios</div>
	    							<div>
	    								<img style="width: 100%" src="../images/fb.jpg"/>
	    							</div>
	    							<span style="float: left;">1.2 miles</span>
	    							<span style="float: right"><i class="mdi-action-grade"></i> 3.2</span>
	    						</p>
	    					</div>
	    				</a>
	    			</li>
	    		</ul>
	    	</div>
	    	<div id="map" class="col s12">
	    		<div style="width:100%;height:400px" id="map_canvas">
	    			<!-- <div id="second_map_canvas" style="overflow: hidden;">
	    				<img src="../images/sheffield-1.png" style="min-width: 100%; height=auto;">
	    			</div> -->
	    		</div>
	    		<!-- <button id="button">Full Screen</button> -->
	    	</div>
	    </div>
	</div>

	<!-- <div class="container">
		
		<div class="row">
			<div class="col s12 m12">
				<div class="card">
					<div class="card-content">
						<span class="card-title grey-text text-darken-4">Search by Post Code</span>
						<form action="#">
							<div class="row">
								<div class="input-field col s10">
									<input type="text" id="by-postcode" class="validate">
									<label for="by-postcode">Post Code</label>
								</div>
								<div class="col s2">
									<a href="#"><i  class="right medium mdi-action-search orange-text"></i> </a>
								</div>
							</div>
						</form>
						<div class="row" style="margin-left: .1%;">
							<a href="../list.html" class="waves-effect waves-light btn orange">My Location</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	
		<div class="row">
			<div class="col s12 m12">
				<div class="card">
					<div class="card-content">
						<span class="card-title grey-text text-darken-4">Advanced Search</span>
						<form action="#">
							<div class="input-field col s12">
								<input id="post-code" type="text" class="validate">
								<label for="post-code">Post Code</label>
							</div>
							<p>
								<input name="dentist-gender" type="radio" id="dentist-male" />
								<label for="dentist-male">Male Dentist</label>
							</p>
							<p>
								<input name="dentist-gender" type="radio" id="dentist-female" />
								<label for="dentist-female">Female Dentist</label>
							</p>
						</form>
						<div class="row">
							<div class="input-field col s12">
								<select class="browser-default">
									<option value="" disabled selected>Choose your Treatment</option>
									<option value="1">Root Canal</option>
									<option value="2">Extraction</option>
								</select>
							</div>
						</div>
						<a class="waves-effect waves-light btn orange">Search</a>
					</div>
				</div>
			</div>
		</div>
	</div> -->
	
	<div id="modal-advanced-search" class="modal modal-fixed-footer">
		<div class="modal-content">
			<form action="#">
				<div class="input-field col s12">
					<input id="post-code" type="text" class="validate">
					<label for="post-code">Post Code</label>
				</div>
				<p>
					<input name="dentist-gender" type="radio" id="dentist-male" />
					<label for="dentist-male">Male Dentist</label>
				</p>
				<p>
					<input name="dentist-gender" type="radio" id="dentist-female" />
					<label for="dentist-female">Female Dentist</label>
				</p>
			</form>
			<div class="row">
				<div class="input-field col s12">
					<select class="browser-default">
						<option value="" disabled selected>Choose your Treatment</option>
						<option value="1">Root Canal</option>
						<option value="2">Extraction</option>
					</select>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<a href="#!" class="modal-action modal-close waves-effect btn-flat ">Search</a>
			<a href="#!" class="modal-action modal-close modal-cancel waves-effect btn-flat ">Cancel</a>
		</div>
	</div>
	<script type="text/javascript">
		$('#search-map-trigger').on('click', function() {
			toggleStuff();
			$('#search').focus();
			$('#map').css('display', 'block');
			// $('#first-map').css('display', 'none');
		});
		$('.search-nav-cancel').on('click', function() {
			toggleStuff();
			$('#list').css('display', 'block');
			$('#map').css('display', 'none');
			// $('.indicator').css({'left': '0', 'right': '150px'});
			// $('#first-map').css('display', 'block');
		});
		$('#browse-trigger').on('click', function() {
			$(this).addClass('active');
			$('#first-map').css('display', 'none');
		})
		function toggleStuff() {
			$('.common-nav').toggle();
			$('.search-map').toggle();
			$('#search-tabs').toggle();
		}
	</script>
	<script src="../js/clinics.js"></script>
	<script>fillClinicsList();</script>
</body>
</html>