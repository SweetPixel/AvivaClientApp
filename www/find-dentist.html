<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' https://maps.googleapis.com https://maps.gstatic.com data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://maps.googleapis.com https://maps.gstatic.com; img-src *">
        <meta name="format-detection" content="telephone=no">
        <meta charset="utf-8">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" href="./css/materialize.min.css" />
        <link rel="stylesheet" href="./css/fontawesome/css/font-awesome.min.css" />
        <title>Find Dentist</title>
        <style>
            
            #search:focus ~ .search-nav-cancel{
                color: #000;
            }
            .search-nav-cancel {
                position: absolute;
                top: 0;
                right: 1rem;
                color: #FFF;
                cursor: pointer;
            }
            .search-nav-cancel .fa {
                padding-top: 0.84rem;
                opacity: 0.3;
            }
            @media screen and (min-width: 768px) {
                .search-nav-cancel .fa {
                    padding-top: 0;
                }
            }
            #list p {
                font-size: 1.4rem;
            }
            .list-heading {
                font-size: 1.3rem;
            }
            .collection-item div, .collection-item span {
                color: #EE6E73;
                padding-bottom: .4rem;
            }
            .search-advance {
                line-height: 1rem;
                background-color: #2980B9;
                color: #FFF;
                font-size: 1rem;
                padding: .6rem;
            }
            #map {
                left: 6px;
                right: 6px;
                position: absolute;
                bottom: 6px;
                top: 110px;
                background-color: #DDD; 
                margin-top: .5rem;
                z-index: -1;
            }
            #result-text {
                margin-top: 3.4rem;
                padding: 0 .4rem;
                color: #681950;
            }
            .modal-trigger.btn {
                padding: 0px 1.4rem;
                background-color: #459BD4;
            }
            #advance-search-trigger{
                width: 49%;
                display: inline-block;
                font-size: 1.2rem;
                line-height: 1.4;
                border-right: 1px solid #ddd;
                vertical-align: top;
                text-align: center;
            }
            #advance-search-trigger:hover {
                cursor: pointer;
            }
            .sort-options {
                width: 49%;
                display: inline-block;
                font-size: 1.2rem;
                line-height: 1.4;
                text-align: center;
                vertical-align: top;
            }
            nav .button-collapse.sort-options {
                float: right;
                height: 30px;
            }
            .modal-trigger .fa {
                font-size: 1rem;
                display: inline;
                padding-left: .4rem;
                padding-top: .3rem;
            }
            #sort-options-menu li:hover {
                background: transparent;
            }
            #sort-options-menu h5 {
                color: #808080;
            }
            #info {
                position: fixed;
                bottom: 6px;
                right: 6px;
                opacity: 0.6;
                background-color: rgb(41, 128, 185);
                text-align: center;
            }
            #info.modal-trigger .fa {
                padding-left: 0;
            }
            #info:hover {
                opacity: 1;
            }
            #advance-search-block {
                background-color: rgb(41, 128, 185);
                box-shadow: 0px 8px 10px -3px #4B4B4B;
                display: none;
                position: absolute;
                width: 100%;
            }
            #advance-search-block label, #sort-options label {
                color: #FFF;
            }
            #advance-search-block .btn-flat {
                width: 49%;
                color: #fff;
            }
            #advance-search-block [type="radio"]:not(:checked) + label::before, #sort-options [type="radio"]:not(:checked) + label::before {
                border: 2px solid #FFF;
            }
            #sort-options {
                padding: 0;
                position: absolute;
                top: 108px;
                right: 6px;
                width: 200px;
                display: none;
                z-index: 1;
                box-shadow: 0px 4px 10px -2px #4B4B4B;
            }
            #sort-options li { 
                background: #2980B9; 
                display: block; 
                color: #fff;
                padding-left: 10px;
                padding-bottom: 10px;
            }
        </style>
        <script>
        
        </script>
    </head>
    <body>
        <nav class="orange" role="navigation">
            <div class="common-nav">
                <div class="nav-wrapper container">
                    <div class="col s4">
                        <a href="dentalservices.html">
                            <i class="left white-text mdi-navigation-arrow-back"></i>
                        </a>
                    </div>
                    <div class="col s4">
                        <a id="logo-container" class="brand-logo fonts center" style="font-size: 25px; margin-top: -2%;"><h6 class="white-text" ></h6> Find Dentist </a>
                    </div>
                    <div class="col s4 right">        
                        <ul id="nav-mobile" class="side-nav right">
                            <li><a href="services2.html">Home</a></li>
                            <li><a data-target="qrmodal" class="modal-trigger" href="#qrmodal">My QR Code</a></li>
                            <li><a href="settings.html">Settings</a></li>
                            <li><a href="notifications.html">Notifications<span class="new badge">2</span></a></li>
                            <li><a href="#">Help</a></li>
                        </ul>
                        <a href="#" data-activates="nav-mobile" class="button-collapse">
                            <i class="mdi-navigation-menu"></i>
                        </a>
                    </div>
                </div>
                <div style="display: none;" class="search-map">
                    <div class="nav-wrapper">
                        <form>
                            <div class="input-field">
                                <input id="search" type="search" required style="margin-bottom: 0">
                                <label for="search">
                                    <i style="display: inline-block; opacity: 0.4;" class="mdi-action-search"></i>
                                </label>
                                <span class="search-nav-cancel"><i class="fa fa-times"></i></span>
                            </div>
                        </form>
                        <div class="search-advance">
                            <a id="advance-search-trigger" onclick="toggleAdvance()">Advanced Search </a>
                            <a href="#" class="sort-options" onclick="toggleSort()">Sort Options</a>
                            <ul id="sort-options">
                                <li>
                                    <h6>By Distance</h6>
                                        <input name="sort" type="radio" id="distance-a" value="0" checked="checked" />
                                        <label onclick="toggleSort()" for="distance-a">Ascending</label>
                                        <input name="sort" type="radio" id="distance-d" value="1" />
                                        <label onclick="toggleSort()" for="distance-d">Descending</label>
                                    <h6>By Rating</h6>
                                        <input name="sort" type="radio" id="rating-a" value="2"  />
                                        <label onclick="toggleSort()" for="rating-a">Ascending</label>
                                        <input name="sort" type="radio" id="rating-d" value="3" />
                                        <label onclick="toggleSort()" for="rating-d">Descending</label>
                                    <h6>By Treatment Price</h6>
                                        <input name="sort" type="radio" id="treatment-a" value="4"  />
                                        <label onclick="toggleSort()" for="treatment-a">Ascending</label>
                                        <input name="sort" type="radio" id="treatment-d" value="5" />
                                        <label onclick="toggleSort()" for="treatment-d">Descending</label>
                                </li>
                            </ul>
                        </div>
                        <div id="advance-search-block" align="center">
                            <form action="#">
                                <input name="dentist-gender" type="radio" id="dentist-male" />
                                <label for="dentist-male">Male Dentist</label>
                                <input name="dentist-gender" type="radio" id="dentist-female" />
                                <label style="margin-left: 2rem;" for="dentist-female">Female Dentist</label>
                            </form>
                            <div class="row" style="margin-bottom: 0">
                                <div class="input-field col s12">
                                    <select class="browser-default" style="color: #000">
                                        <option value="" disabled selected>Choose your Treatment</option>
                                        <option value="1">Examination</option>
                                        <option value="2">Hygiene</option>
                                        <option value="3">Fillings</option>
                                        <option value="4">Whitening</option>
                                        <option value="5">Implants</option>
                                    </select>
                                </div>
                            </div>
                            <a href="#!" class="waves-effect btn-flat" id="advance-cancel" onclick="toggleAdvance()">Cancel</a>
                            <a href="#!" class="waves-effect btn-flat" id="advance-search" onclick="toggleAdvance()">Search</a>
                        </div>
                    </div>
                </div>

                
            </div>
        </nav>

        <a class="btn-floating waves-effect waves-light modal-trigger" href="#info-modal" id="info"><i class="fa fa-info"></i></a>
        <div id="info-modal" class="modal">
            <div class="modal-content">
                <h4>This page info.</h4>
                <p>Info info info info info</p>
            </div>
            <div class="modal-footer">
                <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">OK</a>
            </div>
        </div>
        
        <div id="search-tabs">
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s6 fonts"><a class="mdi-action-search purple-text" id="search-map-trigger" href="#map">Search</a></li>
                    <li class="tab col s6 fonts"><a class="mdi-action-toc purple-text" id="browse-trigger" href="#list">Nearby</a></li>
                </ul>
            </div>
            <div id="list" class="blue-text text-darken-2 col s12">
                <ul class="collection" id="clinics-list">
                    <li class="collection-item">
                        <a href="../details.html">
                            <div class="row">
                                <p class="purple-text left-align">
                                    <div class="list-heading">Devonshire Square Dental Studios</div>
                                    <div>
                                        <img style="width: 100%" src="../images/fb.jpg"/>
                                    </div>
                                    <span style="float: left;">1.2 miles</span>
                                    <span style="float: right"><i class="mdi-action-grade"></i> 3.2</span>
                                </p>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <div id="map"></div>
        <div id="search-result-div">
            <div id="result-text" style="display: none;"><p>The following 17 practices were found within 30 KM of Sheffield, England.</p></div>
            <ul class="collection" id="search-result" style="display: none; z-index: -1;"></ul>
        </div>
        
        <!-- <div id="modal-advanced-search" class="modal modal-fixed-footer">
            <div class="modal-content">
                
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect btn-flat ">Search</a>
                <a href="#!" class="modal-action modal-close modal-cancel waves-effect btn-flat ">Cancel</a>
            </div>
        </div> -->
        <script src="cordova.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyATv4hUjdND9NZIZukq9g5WlIFkgf76rcw&sensor=false">
        </script>
        <script src="js/jquery.min.js"></script>
        <script src="js/materialize.min.js"></script>
        <script src="js/underscore.js"></script>
        <script src="js/clinics.js"></script>
        <script src="js/get-map.js"></script>
        <script src="js/init.js"></script>
        <script>
            app.initialize();
            fillClinicsList();
        </script>
        <script type="text/javascript">
            $('#search-map-trigger').on('click', function() {
                toggleStuff();
                $('#search').focus();
                $('#map').css('display', 'none');
                $('#map').css('top', '174px');
                $('nav').css('height', '135px');
                $('nav .nav-wrapper').css('height', '70px');
                
            });
            $('.search-nav-cancel').on('click', function() {
                toggleStuff();
                $('#list').css('display', 'block');
                $('#map').css('display', 'none');
                $('#map').css('margin-top', '.5rem');
                $('.indicator').css({'left': '0', 'right': '150px'});
                $('#map').css('top', '110px');
                $('#search-result').css('display', 'none');
                $('#search').val('');
                $('#result-text').css('display', 'none');
                $('nav').css('height', '65px');
                $('nav .nav-wrapper').css('height', '100%');
                results = [];
            });
            $('#browse-trigger').on('click', function() {
                $(this).addClass('active');
                $('#map').css('margin-top', '.5rem');
                $('#map').css('top', '110px');
            })
            function toggleStuff() {
                // $('.common-nav').toggle();
                $('.search-map').toggle();
                $('#search-tabs').toggle();
            }
            /*$('#sort-options-menu input').on('click', function() {
                setTimeout(function () {
                    $('.button-collapse.sort-options').sideNav('hide');
                }, 200);
            });*/
            function toggleAdvance () {
                $('#advance-search-block').toggle();
                
            }
            $(document).click(function() {
                if(this == $('.sort-options')[0]) {
                    
                    console.log("this");
                }
            });
            $('html').click(function() {
                $("#sort-options").hide();
                $("#advance-search-block").hide();
            });

            $('#sort-options').click(function(event){
                event.stopPropagation();
            });
            $('.sort-options').click(function(event){
                event.stopPropagation();
                $("#advance-search-block").hide();
            });
            $('#advance-search-trigger').click(function(event){
                event.stopPropagation();
                $("#sort-options").hide();
            });
            function toggleSort () {
                $('#sort-options').toggle();
            }
        </script>

    </body>
</html>
