<ion-view>
    <!-- do you want padding? -->
    <ion-content scroll="false">
        <!-- content goes here -->
        <ion-tabs class="tabs-light tabs-striped tabs-top">
            <ion-tab title="Search">
                <div>
                    <div class="bar bar-subheader item-input-inset bar-light">
                        <label class="item-input-wrapper" style="margin-top: 4px;">
                            <i class="icon ion-ios-search placeholder-icon"></i>
                            <input type="search" placeholder="Search" ng-model="value.value">
                        </label>
                        <button ng-click="openModal()" class="button button-clear">
                            <i class="icon ion-ios-gear"></i>
                        </button>
                    </div>
                    <div id="map" data-tap-disabled="true"></div>
                    <div class="search-result" ng-show="gotSearchResult">
                        <div class="list">
                            <a ng-click="drawSearchMarker(clinic)" class="item item-text-wrap" ng-repeat="clinic in searchResult">
                    			{{clinic.Postcode}} - {{clinic.PracticeName}}
                    		</a>
                        </div>
                    </div>
                </div>
            </ion-tab>
            <ion-tab title="Nearby">
                <div class="bar bar-subheader bar-light item-input item-select">
                    Sort By
                    <select name="" id="" ng-model="sort.sortBy">
                        <option value="+distance">Distance Asc.</option>
                        <option value="-distance">Distance Desc.</option>
                        <option value="+feedback">Ratings Asc.</option>
                        <option value="-feedback">Ratings Desc.</option>
                        <option value="+treatment">Treatment Rates Asc.</option>
                        <option value="-treatment">Treatment Rates Desc.</option>
                    </select>
                </div>
                <ion-content scroll="true">
                    <div class="list">
                        <a class="item item-text-wrap">
                            <div>
                                <ion-spinner icon="spiral" ng-hide="loadingDone" style="width: 30px; margin: 0 auto; display: block;"></ion-spinner>
                            </div>
                            {{countMessage}}
                        </a>
                        <a class="item item-thumbnail-left" ng-click="goToClinic(clinic)" ng-repeat="clinic in nearbyClinics | orderBy : sort.sortBy" ng-init="clinic.feedback = 1">
                            <img style="width: 80px" ng-src="{{clinic.imageToUse}}">
                            <h2>{{clinic.PracticeName}}</h2>
                            <p>Distance: {{clinic.distance}}</p>
                            <div star-rating rating-value="clinic.feedback" max="5"></div>
                        </a>
                    </div>
                </ion-content>
            </ion-tab>
        </ion-tabs>
    </ion-content>
</ion-view>
<script id="advance-search-modal.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar class="bar bar-header" ng-class="{'navbar-orange': navColor==1, 'navbar-green': navColor==2, 'navbar-yellow': navColor==3, 'navbar-red': navColor==5, 'navbar-purple': navColor==4}">
            <h1 class="title">Advance Search</h1>
            <button class="button button-clear button-primary" ng-click="closeModal()">Cancel</button>
        </ion-header-bar>
        <ion-content class="padding">
            <div class="list">
                <label class="item item-input item-stacked-label">
                    <span class="input-label">Location</span>
                    <input ng-model="data.location" type="text" placeholder="London">
                </label>
                <label class="item item-input item-select">
                    <div class="input-label">
                        Gender
                    </div>
                    <select ng-model="member.gender">
                        <option value="">Any</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </label>
                <label class="item item-input item-stacked-label">
                    <span class="input-label">Treatment</span>
                    <input ng-model="data.treatment" type="text" placeholder="Routine Hygiene">
                </label>
                <div class="search-result" ng-show="gotTreatmentResult">
                    <div class="list">
                        <a ng-click="gotTreatment(treatment)" class="item item-text-wrap" ng-repeat="treatment in treatmentResult">
                    			{{treatment.TreatmentName}}
                    	</a>
                    </div>
                </div>
                <button class="button button-full" ng-class="{'button-orange': navColor==1, 'button-green': navColor==2, 'button-yellow': navColor==3, 'button-red': navColor==5, 'button-purple': navColor==4}" ng-click="search()">Search</button>
            </div>
        </ion-content>
    </ion-modal-view>
</script>
